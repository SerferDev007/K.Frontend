/*
  Pro Theme (scoped) — drop-in CSS to modernize look & feel
  Usage:
    1) Add class="app-pro-theme" on your top-level app container.
    2) Include this file after your existing CSS so it overrides non-critical styles.
    3) No JS or markup changes required (except the single wrapper class). Functionality remains untouched.

  Notes:
    - Safely scoped: All rules live under .app-pro-theme to avoid leaking styles.
    - Design tokens are in :root under the scope. Tweak colors, radii, shadows here.
    - Supports light/dark via .dark modifier on the same wrapper (.app-pro-theme.dark {...}).
*/

.app-pro-theme {
  /* --- Tokens ------------------------------------------------------------ */
  --bg:            #fdfaf6; /* page background */
  --surface:       #ffffff; /* cards, panels */
  --surface-2:     #faf7f2; /* subtle blocks */
  --text:          #0f172a; /* slate-900 */
  --muted:         #64748b; /* slate-500 */
  --muted-2:       #94a3b8; /* slate-400 */
  --border:        #e2e8f0; /* slate-200 */
  --ring:          #3b82f6; /* focus ring */

  /* Brand — tune as needed */
  --primary:       #f59e0b; /* amber-500 */
  --primary-600:   #d97706;
  --primary-100:   #fef3c7;
  --accent:        #10b981; /* emerald-500 */
  --danger:        #ef4444; /* red-500 */
  --warning:       #f59e0b;
  --success:       #22c55e;

  /* UI geometry */
  --radius-sm: 10px;
  --radius-md: 16px;
  --radius-lg: 20px;
  --shadow-sm: 0 1px 2px rgba(2,6,23,.06), 0 1px 1px rgba(2,6,23,.04);
  --shadow-md: 0 6px 24px rgba(2,6,23,.08);
  --shadow-lg: 0 10px 35px rgba(2,6,23,.12);

  /* Typography */
  --font-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Inter, "Noto Sans", Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

/* Optional dark mode toggle by adding .dark on the same wrapper */
.app-pro-theme.dark {
  --bg:        #0b1220;
  --surface:   #0f172a;
  --surface-2: #111827;
  --text:      #e5e7eb;
  --muted:     #9ca3af;
  --muted-2:   #6b7280;
  --border:    #1f2937;
  --ring:      #60a5fa;
  --primary:   #f59e0b;
  --primary-600:#d97706;
  --primary-100:#3f2d0f;
  --accent:    #34d399;
  --danger:    #f87171;
}

/* --- Base / Reset (scoped) --------------------------------------------- */
.app-pro-theme, .app-pro-theme * {
  box-sizing: border-box;
}
.app-pro-theme {
  background: linear-gradient(180deg, var(--bg), #fff7ed 100%);
  color: var(--text);
  font-family: var(--font-sans);
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
}
.app-pro-theme a { color: var(--primary-600); text-decoration: none; }
.app-pro-theme a:hover { text-decoration: underline; }

/* Scrollbar (webkit) */
.app-pro-theme ::-webkit-scrollbar { width: 10px; height: 10px; }
.app-pro-theme ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 999px; }
.app-pro-theme.dark ::-webkit-scrollbar-thumb { background: #334155; }

/* Containers ------------------------------------------------------------- */
.app-pro-theme .container {
  width: min(1160px, 92%);
  margin: 0 auto;
}

/* Header / Navbar -------------------------------------------------------- */
.app-pro-theme .app-header {
  position: sticky; top: 0; z-index: 40;
  backdrop-filter: blur(8px);
  background: color-mix(in oklab, var(--surface) 80%, transparent);
  border-bottom: 1px solid var(--border);
}
.app-pro-theme .app-header-inner { display:flex; align-items:center; justify-content:space-between; height:64px; }
.app-pro-theme .brand {
  display:flex; align-items:center; gap:.75rem;
  font-weight: 700; letter-spacing:.2px;
}
.app-pro-theme .brand-pill {
  background: var(--primary-100);
  color: var(--primary-600);
  padding:.35rem .65rem; border-radius: 999px; font-size:.9rem;
}
.app-pro-theme .nav { display:flex; gap:.5rem; align-items:center; }
.app-pro-theme .nav a {
  display:inline-flex; align-items:center; gap:.4rem; 
  padding:.45rem .7rem; border-radius: var(--radius-sm);
  color: var(--muted); border:1px solid transparent;
}
.app-pro-theme .nav a:hover { background: var(--surface-2); color: var(--text); }
.app-pro-theme .nav a.active { background: var(--surface); color: var(--text); border-color: var(--border); box-shadow: var(--shadow-sm); }

/* Cards ----------------------------------------------------------------- */
.app-pro-theme .card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
}
.app-pro-theme .card-header { padding: 1rem 1rem .5rem; }
.app-pro-theme .card-title { font-size: 1.05rem; font-weight: 600; }
.app-pro-theme .card-sub { color: var(--muted); font-size:.9rem; margin-top:.25rem; }
.app-pro-theme .card-body { padding: 1rem; }
.app-pro-theme .card-footer { padding: .75rem 1rem 1rem; display:flex; gap:.5rem; justify-content:flex-end; }

/* KPI tiles -------------------------------------------------------------- */
.app-pro-theme .kpi-grid { display:grid; grid-template-columns: repeat(12, minmax(0,1fr)); gap: 1rem; }
.app-pro-theme .kpi { grid-column: span 12; padding: 1rem; display:flex; flex-direction:column; gap:.25rem; border-radius: var(--radius-md); border:1px solid var(--border); background: var(--surface); box-shadow: var(--shadow-sm); }
@media (min-width: 700px) { .app-pro-theme .kpi { grid-column: span 6; } }
@media (min-width: 1024px) { .app-pro-theme .kpi { grid-column: span 3; } }
.app-pro-theme .kpi .kpi-top { display:flex; align-items:center; justify-content:space-between; color:var(--muted); font-size:.9rem; }
.app-pro-theme .kpi .kpi-value { font-size:1.6rem; font-weight:700; letter-spacing:.2px; }

/* Buttons --------------------------------------------------------------- */
.app-pro-theme .btn { 
  appearance: none; border:1px solid transparent; cursor:pointer; user-select:none; 
  display:inline-flex; align-items:center; gap:.5rem; justify-content:center; 
  padding:.55rem .9rem; border-radius: var(--radius-sm); font-weight:600; 
  background: var(--surface-2); color: var(--text);
  transition: transform .02s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
}
.app-pro-theme .btn:active { transform: translateY(1px); }
.app-pro-theme .btn:hover { background: #f3f4f6; }
.app-pro-theme .btn-primary { background: var(--primary); color:#111; border-color: color-mix(in oklab, var(--primary) 60%, black); }
.app-pro-theme .btn-primary:hover { background: var(--primary-600); color:#fff; }
.app-pro-theme .btn-outline { background: transparent; color: var(--text); border-color: var(--border); }
.app-pro-theme .btn-outline:hover { background: var(--surface-2); }
.app-pro-theme .btn-danger { background: var(--danger); color:#fff; }
.app-pro-theme .btn-icon { padding:.5rem; width:36px; height:36px; }
.app-pro-theme .btn-sm { padding:.4rem .7rem; font-size:.9rem; }

/* Badges / Chips -------------------------------------------------------- */
.app-pro-theme .badge { display:inline-flex; align-items:center; gap:.35rem; padding:.2rem .5rem; border-radius:999px; font-weight:600; font-size:.8rem; border:1px solid var(--border); background: var(--surface-2); color:var(--muted); }
.app-pro-theme .badge.success { background: color-mix(in oklab, var(--success) 14%, white); color:#065f46; border-color: #a7f3d0; }

/* Forms ----------------------------------------------------------------- */
.app-pro-theme .form-grid { display:grid; gap: .9rem; grid-template-columns: repeat(12, minmax(0,1fr)); }
.app-pro-theme .field { grid-column: span 12; display:flex; flex-direction:column; gap:.4rem; }
@media (min-width: 720px) {
  .app-pro-theme .field.half { grid-column: span 6; }
  .app-pro-theme .field.full { grid-column: span 12; }
}
.app-pro-theme label { font-size:.9rem; color:var(--muted); }
.app-pro-theme input[type="text"],
.app-pro-theme input[type="number"],
.app-pro-theme input[type="date"],
.app-pro-theme input[type="tel"],
.app-pro-theme input[type="email"],
.app-pro-theme select,
.app-pro-theme textarea {
  width:100%; appearance:none;
  background: var(--surface);
  color: var(--text);
  border:1px solid var(--border);
  border-radius: var(--radius-sm);
  padding:.6rem .7rem;
  box-shadow: inset 0 1px 0 rgba(2,6,23,.02);
}
.app-pro-theme textarea { min-height: 96px; resize: vertical; }
.app-pro-theme select { padding-right: 2rem; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="%2364748b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>'); background-repeat:no-repeat; background-position: right .5rem center; }
.app-pro-theme input:focus,
.app-pro-theme select:focus,
.app-pro-theme textarea:focus { outline: 3px solid color-mix(in oklab, var(--ring) 20%, transparent); border-color: var(--ring); }
.app-pro-theme .help { font-size:.8rem; color:var(--muted-2); }

/* Filters bar ----------------------------------------------------------- */
.app-pro-theme .toolbar { display:flex; flex-wrap:wrap; gap:.6rem; align-items:center; justify-content:space-between; }
.app-pro-theme .toolbar .left, .app-pro-theme .toolbar .right { display:flex; flex-wrap:wrap; gap:.6rem; align-items:center; }
.app-pro-theme .toolbar .total-pill { background: var(--surface-2); border:1px solid var(--border); padding:.45rem .7rem; border-radius:999px; }

/* Tables --------------------------------------------------------------- */
.app-pro-theme .table-wrap { overflow:auto; border:1px solid var(--border); border-radius: var(--radius-lg); background: var(--surface); box-shadow: var(--shadow-sm); }
.app-pro-theme table { width:100%; border-collapse: separate; border-spacing:0; }
.app-pro-theme thead th { position:sticky; top:0; background: var(--surface-2); border-bottom:1px solid var(--border); text-align:left; font-weight:700; padding:.8rem .9rem; color:var(--muted); z-index:1; }
.app-pro-theme tbody td { padding:.75rem .9rem; border-bottom:1px solid var(--border); }
.app-pro-theme tbody tr:hover { background: #f8fafc; }
.app-pro-theme .td-right { text-align:right; font-variant-numeric: tabular-nums; }
.app-pro-theme .actions { display:flex; gap:.4rem; }

/* Modals (generic) ------------------------------------------------------ */
.app-pro-theme .modal-backdrop { position:fixed; inset:0; background: rgba(2,6,23,.45); display:grid; place-items:center; padding: 1rem; z-index:50; }
.app-pro-theme .modal { background: var(--surface); border:1px solid var(--border); border-radius: var(--radius-lg); box-shadow: var(--shadow-lg); width:min(720px, 92vw); }
.app-pro-theme .modal .modal-header { padding:1rem 1rem .5rem; border-bottom:1px solid var(--border); }
.app-pro-theme .modal .modal-body { padding:1rem; }
.app-pro-theme .modal .modal-footer { padding:.75rem 1rem 1rem; border-top:1px solid var(--border); display:flex; gap:.5rem; justify-content:flex-end; }

/* Recharts tidy-ups ----------------------------------------------------- */
.app-pro-theme .recharts-default-tooltip { border-radius: 10px !important; border:1px solid var(--border) !important; box-shadow: var(--shadow-md) !important; }
.app-pro-theme .recharts-cartesian-grid-horizontal line,
.app-pro-theme .recharts-cartesian-grid-vertical line { stroke: #e5e7eb; }
.app-pro-theme.dark .recharts-cartesian-grid-horizontal line,
.app-pro-theme.dark .recharts-cartesian-grid-vertical line { stroke: #334155; }

/* Utility helpers ------------------------------------------------------- */
.app-pro-theme .gap-sm { gap:.5rem; }
.app-pro-theme .mt-1 { margin-top:.25rem; }
.app-pro-theme .mt-2 { margin-top:.5rem; }
.app-pro-theme .mb-2 { margin-bottom:.5rem; }
.app-pro-theme .hidden { display:none !important; }
.app-pro-theme .pill { padding:.25rem .6rem; border-radius:999px; background: var(--surface-2); border:1px solid var(--border); }

/* Example page-specific polish (optional selectors matching your pages) -- */
/* Donations page */
.app-pro-theme .donations-card .total {
  background: var(--primary-100);
  border:1px solid color-mix(in oklab, var(--primary) 24%, white);
  color: #1f2937;
  padding:.6rem .9rem; border-radius: var(--radius-md);
}

/* Date input icon area (if you wrap input in .input-icon) */
.app-pro-theme .input-icon { position:relative; }
.app-pro-theme .input-icon .icon { position:absolute; right:.6rem; top:50%; transform:translateY(-50%); color:var(--muted-2); pointer-events:none; }

/* Footer spacing */
.app-pro-theme .page-pad { padding: 1rem 0 2rem; }
